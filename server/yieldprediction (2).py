# -*- coding: utf-8 -*-
"""yieldprediction

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1rIXe5Xm4ViqGGLajotVztswWn00R9pYk
"""

import pandas as pd

def main():
    # Load CSV
    df = pd.read_csv("APY.csv")
    df.columns = df.columns.str.strip()  # Clean column names

    # Remove rows with missing or zero Area
    df = df[df['Area'] > 0]

    # Compute Yield (Production per Area)
    df['Yield'] = df['Production'] / df['Area']

    # Take user input
    state_input = input("Enter the State: ").strip()
    district_input = input("Enter the District: ").strip()
    crop_input = input("Enter the Crop: ").strip()

    # Filter for state, district, crop (case-insensitive match)
    filtered_df = df[
        (df['State'].str.strip().str.lower() == state_input.lower()) &
        (df['District'].str.strip().str.lower() == district_input.lower()) &
        (df['Crop'].str.strip().str.lower() == crop_input.lower())
    ]

    # Check if data exists
    if filtered_df.empty:
        print(f"No data found for {crop_input} in {district_input}, {state_input}.")
    else:
        mean_yield = filtered_df['Yield'].mean()
        print(f"\nPredicted Yield for {crop_input} in {district_input}, {state_input}: {mean_yield:.2f}")

if __name__ == "__main__":
    main()